
Table model {
  id uuid [pk]
  model_type_id uuid [ref: > model_type.id]
  ml_task_id uuid [ref: > ml_task.id, not null]
  name varchar [not null, unique]
  display_name varchar [not null]
  structure_id uuid [ref: > model_structure_type.id, not null]
  description varchar
  advantages array
  disadvantages array
  enabled boolean [not null]
  decision_tree boolean
  ensemble_type_id uuid [ref: > model_ensemble_type.id]
  family_type_id uuid [ref: > model_family_type.id]
  dependency_group_id uuid [ref: > dependency_group_type.id]
}

Table model_structure_type {
  id uuid [pk]
  name varchar [not null, unique]
}

Table ml_task {
  id uuid [pk]
  name varchar [not null, unique]
}

Table dependency_group_type {
  id uuid [pk]
  name varchar [not null]
}

Table dependency_type {
  id uuid [pk]
  name varchar [not null]
  dependency_group_id integer [ref: > dependency_group_type.id]
}

Table model_family_type {
  id uuid [pk]
  name varchar [not null]
}

Table model_ensemble_type {
   id uuid [pk]
  name varchar [not null]
}

Table rel_model__groups {
  model_id uuid [ref: > model.id]
  group_id uuid [ref: > group.id]
}

Table group {
  id uuid [pk]
  name varchar [not null]
}

Table model_type {
  id uuid [pk]
  name varchar [not null]
}

Table rel_model__incompatible_metrics {
  model_id uuid [ref: > model.id]
  metric_id uuid [ref: > metric.id]

  indexes {
    (model_id, metric_id) [pk]
  }
}

Table metric {
  id uuid [pk]
  name varchar [not null, unique]
}

Table parameter {
  id uuid [pk]
  model_id uuid [ref: > model.id]
  name varchar [not null]
  label varchar [not null]
  description varchar
  enabled boolean [not null]
  fixed_value boolean [not null]
  ordering integer [not null]

  indexes {
    (model_id, name) [unique]
  }
}

Table parameter_type {
  id uuid [pk]
  name varchar [not null, unique]
}

Table parameter_type_definition {
  id uuid [pk]
  parameter_id uuid [ref: > parameter.id, not null]
  parameter_type_id uuid [ref: > parameter_type.id, not null]
  parameter_distribution_type_id uuid [ref: > parameter_distribution_type.id, not null]
  ordering integer [not null]
}

Table categorical_parameter {
  id uuid [pk, ref: - parameter_type_definition.id]
  default_value varchar
}

Table categorical_parameter_value {
  id uuid [pk]
  parameter_type_definition_id uuid [ref: > categorical_parameter.id, not null]
  value varchar [not null]
}

Table integer_parameter {
  id uuid [pk, ref: - parameter_type_definition.id]
  default_value integer
}

Table integer_parameter_range {
  id uuid [pk]
  parameter_type_definition_id uuid [ref: > integer_parameter.id, not null]
  lower integer [not null]
  upper integer [not null]
}

Table float_parameter {
  id uuid [pk, ref: - parameter_type_definition.id]
  default_value double
}

Table float_parameter_range {
  id uuid [pk]
  parameter_type_definition_id uuid [ref: > float_parameter.id, not null]
  is_left_open boolean [not null]
  is_right_open boolean [not null]
  lower double [not null]
  upper double [not null]
}


Table boolean_parameter {
  id uuid [pk, ref: - parameter_type_definition.id]
  default_value boolean
}


Table parameter_distribution_type {
  id uuid [pk]
  name varchar [not null, unique]
}


Table constraint_edge {
  id uuid [pk]
  model_id uuid [ref: > model.id]
  source_id uuid [ref: - parameter.id]
  target_id uuid [ref: - parameter.id]
  description varchar
}

Table mapping {
  id uuid [pk]
  constraint_edge_id uuid [ref: > constraint_edge.id]
  source_type varchar
  target_type varchar
}

Table categorical_constraint {
  id uuid [pk]
  source_mapping_id uuid [ref: - mapping.id]
  target_mapping_id uuid [ref: - mapping.id]
}

Table float_constraint {
  id uuid [pk]
  source_mapping_id uuid [ref: - mapping.id]
  target_mapping_id uuid [ref: - mapping.id]
}

Table integer_constraint {
  id uuid [pk]
  source_mapping_id uuid [ref: - mapping.id]
  target_mapping_id uuid [ref: - mapping.id]
}

Table category_constraint{
  id uuid [pk]
  categorical_constraint_id uuid [ref: > categorical_constraint.id]
  string_value varchar
  boolean_value boolean
}

Table interval_constraint {
  id uuid [pk]
  float_constraint_id uuid [ref: > float_constraint.id]
  left boolean
  right boolean
  lower double
  upper double
}

Table range_constraint {
  id uuid [pk]
  integer_constraint_id uuid [ref: > integer_constraint.id]
  start integer
  stop integer
}